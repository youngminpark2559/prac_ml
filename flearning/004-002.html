<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
   <HEAD>
      <TITLE>My first HTML document</TITLE>
      <style rel="stylesheet" type="text/css">
body {
 font-size: 25px;
 
 margin-top: 50px;
    margin-bottom: 50px;
    margin-right: 80px;
    margin-left: 80px;
    
    padding-top: 50px;
    padding-bottom: 50px;
    padding-right: 80px;
    padding-left: 80px;
    
    line-height:1.6em
}
</style>
      <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    "HTML-CSS" : {
        availableFonts : ["STIX"],
        preferredFont : "STIX",
        webFont : "STIX-Web",
        imageFont : null
    }
});
</script>
     <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js" type="text/javascript">    
    MathJax.Hub.Config({
        HTML: ["input/TeX","output/HTML-CSS"],
        TeX: { extensions: ["AMSmath.js","AMSsymbols.js"], 
               equationNumbers: { autoNumber: "AMS" } },
        extensions: ["tex2jax.js"],
        jax: ["input/TeX","output/HTML-CSS"],
        tex2jax: { inlineMath: [ ['$$$','$$$'] ],
                   displayMath: [ ['$$$$','$$$$'] ],
                   processEscapes: true },
        "HTML-CSS": { availableFonts: ["TeX"],
                      linebreaks: { automatic: true } }
    });
</script>
   </HEAD>
   <BODY>
004-002. indexing on dataframe, row, column, loc[], iloc[]
<xmp>
import pandas as pd
import numpy as np

data={"name":["Flash","Flash","Flash","Alice","Alice"],
      "year":[2014,2015,2016,2015,2016],
      "points":[1.5,1.7,3.6,2.4,2.9]}
df=pd.DataFrame(data,columns=["year","names","points","penalty"],
                     index=["one","two","three","four","five"])
df
# < 	    year	names	points	penalty
# < one	    2014	NaN	    1.5 	NaN
# < two	    2015	NaN	    1.7 	NaN
# < three	2016	NaN	    3.6 	NaN
# < four	2015	NaN	    2.4 	NaN
# < five	2016	NaN	    2.9 	NaN

# @
# You will select year column
df["year"]
# < You will see index and value
# < It's same with series
# < When you extract one column or one row from dataframe,
# < it's series
# < one      2014
# < two      2015
# < three    2016
# < four     2015
# < five     2016
# < Name: year, dtype: int64

# You can obtain same result with following code
df.year
# < one      2014
# < two      2015
# < three    2016
# < four     2015
# < five     2016
# < Name: year, dtype: int64

# You can obtain multiple columns data
df[["year","points"]]
# < 	    year	points
# < one	    2014	1.5
# < two	    2015	1.7
# < three	2016	3.6
# < four	2015	2.4
# < five	2016	2.9

# You can insert value into row data
df["penalty"]=0.5
# < 	    year	names	points	penalty
# < one	    2014	NaN	    1.5 	0.5
# < two	    2015	NaN	    1.7 	0.5
# < three	2016	NaN	    3.6 	0.5
# < four	2015	NaN	    2.4 	0.5
# < five	2016	NaN	    2.9 	0.5

# You can insert each value into each row data
df["penalty"]=[0.1,0.2,0.3,0.4,0.5]
# < 	    year	names	points	penalty
# < one	    2014	NaN	    1.5	    0.1
# < two	    2015	NaN	    1.7	    0.2
# < three	2016	NaN	    3.6	    0.3
# < four	2015	NaN	    2.4	    0.4
# < five	2016	NaN	    2.9	    0.5

# You can use some methods to insert values
df["penalty"]=np.arange(5)
df
# < 	    year	names	points	penalty
# < one	    2014	NaN	    1.5	    0
# < two	    2015	NaN	    1.7	    1
# < three	2016	NaN	    3.6	    2
# < four	2015	NaN	    2.4	    3
# < five	2016	NaN	    2.9	    4

# You can use series when you insert value
val=pd.Series([-1.2,-1.5,-1.7],index=["two","four","five"])
df["debt"]=val
df
# < 	    year	names	points	penalty	debt
# < one	    2014	NaN	    1.5	    0	    NaN
# < two	    2015	NaN	    1.7	    1	    -1.2
# < three	2016	NaN	    3.6	    2	    NaN
# < four	2015	NaN	    2.4	    3	    -1.5
# < five	2016	NaN	    2.9	    4	    -1.7

# You can use dataframe when you insert value
df["net_points"]=df["points"]-df["penalty"]
df["high_points"]=df["net_points"]>2.0
df

# You select column and then you can delete it
del df["high_points"]
del df["net_points"]
del df["zeros"]
df

# You can check only columns
df.columns

# @
df.index.name="Order"
df.columns.name="Info"
df

# @
# Unlike numply, number of ways to index row and column is countless
# Besides, as version of pandas goes up,
# these ways of index become slightly different

# @
df[0:3]

df["two":"four"]

# @
# You will be confused above ways to index dataframe
# So, I recommend you to use only following 2 dictionary methods,
# to index dataframe
# loc[], iloc[]

# loc[] is used when you bring row and column
# and returns row in form of series
df.loc["two"]

df.loc["two":"four"]

df.loc["two":"four","points"]

df.loc[:,"year"]
# Above code is same with df["year"]

df.loc[:,["year","names"]]

df.loc[["three","five"],["year","names"]]

# You can add row
df.loc["six",:]=[2013,"Alice",3.0,0.1,2.1]

# @
# Let's talk about iloc[]
# iloc[] is used when you bring row and column,
# by numpy array indexing way

df.iloc[3]

df.iloc[3:5,0:2]

# You bring only each value individually
# From row, you bring [0,1,3]
# From column, you bring [1,2]
df.iloc[[0,1,3],[1,2]]

df[:,1:4]

df[1,1]

# @
# Let's talk about boolean indexing in dataframe
df["year"]>2014
# < And you will get series of boolean

df.loc[df["year"]>2014,:]

df.loc[df["names"]=="Alice",["names","points"]]

df.loc[(df["points"]>2)&(df["points"]<3),:]

df.loc[df["points"]>3,"penalty"]=0



</xmp>
   </BODY>
</HTML>
