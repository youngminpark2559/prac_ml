<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
   <HEAD>
      <TITLE>My first HTML document</TITLE>
      <style rel="stylesheet" type="text/css">
body {
 font-size: 25px;
 
 margin-top: 50px;
    margin-bottom: 50px;
    margin-right: 80px;
    margin-left: 80px;
    
    padding-top: 50px;
    padding-bottom: 50px;
    padding-right: 80px;
    padding-left: 80px;
    
    line-height:1.6em
}
</style>
      <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    "HTML-CSS" : {
        availableFonts : ["STIX"],
        preferredFont : "STIX",
        webFont : "STIX-Web",
        imageFont : null
    }
});
</script>
     <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js" type="text/javascript">    
    MathJax.Hub.Config({
        HTML: ["input/TeX","output/HTML-CSS"],
        TeX: { extensions: ["AMSmath.js","AMSsymbols.js"], 
               equationNumbers: { autoNumber: "AMS" } },
        extensions: ["tex2jax.js"],
        jax: ["input/TeX","output/HTML-CSS"],
        tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                   displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                   processEscapes: true },
        "HTML-CSS": { availableFonts: ["TeX"],
                      linebreaks: { automatic: true } }
    });
</script>
   </HEAD>
   <BODY>
004. Basic of BeautifulSoup<br/><br/>
<xmp>
@
# BeautifulSoup is libray having a lot of functionalities for analyzing and parsing html, xml
# Let's suppose we have following html markup
html="""
<html>
    <body>
        <div id="meigen">
            <h1>Wikibooks</h1>
            <ul class="items">
                <li>Unity</li>
                <li>Swift</li>
                <li>Website</li>
            </ul>
        </div>
    </body>
</html>
"""

@
# Why we should extract parts from html tags by using BeautifulSoup?
# It's because all web pages are built by html

@
from bs4 import BeautifulSoup

@
# I bring BeautifulSoup instance
# At that time, I pass "html" and "the kind of parser"
soup = BeautifulSoup(html, "html-parser")
# Now, I can utilize various methods which are given by soup instance
# The most used methods are "select()" and "select_one()" which are used along with CSS selectors

@
# I select a specific tag with a specific tag name
# If I want to select <ul></ul>, I just need to input "ul"
# This is a tag selector : "ul", "div", "li", ...

@
# Id selector : #meigen

@
# class selector : .items
# If it has multiple classes, <ul class = "items art it book">
# .item.it

@
# "ul.book.items"

@
# tag + class selector is most used
# "ul.book"

@
# descendant selector : all elements below a specific tag
# child selector : elements one step below a specific tag

# descendant of <html> is
# <body>
#     <div id="meigen">
#         <h1>Wikibooks</h1>
#         <ul class="items">
#             <li>Unity</li>
#             <li>Swift</li>
#             <li>Website</li>
#         </ul>
#     </div>
# </body>

# child of <html> : <body>

@
# descendant selector
# "html li" means below html, select its child li

# "#meigen li" : below #meigen, select its child li

@
child selector
"ul.items > li" : select li below "ul.items"

@
# in web page, you got a lot of <ul>
# At that situation, when you want to select <li> in <ul>, you can do as following

# There are 3 <li> in <ul>
# So, you should decide whether you use select_one() or select()
# In this case, you need to select multiple li, so you should use select()

# You can write code like this
soup = BeautifulSoup(html, "html-parser")
list_items = soup.select("li")
# or
list_items = soup.select("ul.items li")
# or more precisely
list_items = soup.select("ul.items > li")

@
# When you want to select <h1>, it's only one in entire tags, you can use select_one()
soup = BeautifulSoup(html, "html-parser")
header = soup.select_one("li")
# or
header = soup.select("div > h1")
# or more precisely
header = soup.select("body > div > h1")

@
# select_one() returns element
# select() returns array of element

# So, when you use returned data, you can use as following
# header.string is used when you use string
# header.attrs is used when you use attributes inside of it
# Since it's dictionary type, when you extract title attribute, you can use header.attrs["title"]
# for li in list_items:
#     li.string
</xmp>
   </BODY>
</HTML>
